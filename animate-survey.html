
<!--
    @license
    Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
    The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
    The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
    Code distributed by Google as part of the polymer project is also
    subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!doctype html>
<html>
<head>

    <script src="https://www.polymer-project.org/components/platform/platform.js"></script>
    <link rel="import" href="https://www.polymer-project.org/components/core-icons/av-icons.html">
    <link rel="import" href="https://www.polymer-project.org/components/core-icons/communication-icons.html">
    <link rel="import" href="https://www.polymer-project.org/components/core-icons/device-icons.html">
    <link rel="import" href="https://www.polymer-project.org/components/core-icons/editor-icons.html">
    <link rel="import" href="https://www.polymer-project.org/components/core-icons/hardware-icons.html">
    <link rel="import" href="https://www.polymer-project.org/components/core-icons/image-icons.html">
    <link rel="import" href="https://www.polymer-project.org/components/core-icons/maps-icons.html">
    <link rel="import" href="https://www.polymer-project.org/components/core-icons/notification-icons.html">
    <link rel="import" href="https://www.polymer-project.org/components/core-icons/social-icons.html">
    <link href="https://www.polymer-project.org/components/core-animated-pages/core-animated-pages.html" rel="import">
    <link href="https://www.polymer-project.org/components/core-animated-pages/transitions/slide-from-right.html" rel="import">

    <link href="https://www.polymer-project.org/components/paper-shadow/paper-shadow.html" rel="import">
    <link href="https://www.polymer-project.org/components/paper-shadow/paper-shadow.css" rel="import">


    <link href="https://www.polymer-project.org/components/paper-button/paper-button.html" rel="import">
    <link rel="import" href="https://www.polymer-project.org/components/paper-dialog/paper-dialog-transition.html">
    <link href="https://www.polymer-project.org/components/paper-dialog/paper-dialog.html" rel="import">

    <link href="https://www.polymer-project.org/components/paper-input/paper-input.html" rel="import">

    <link href="https://www.polymer-project.org/components/paper-fab/paper-fab.html" rel="import">

    <link rel="import" href="https://www.polymer-project.org/components/paper-checkbox/paper-checkbox.html">

    <link rel="import" href="https://www.polymer-project.org/components/paper-slider/paper-slider.html">

    <link rel="import" href="https://www.polymer-project.org/components/paper-toast/paper-toast.html">

    <style>
        body {
            font-family: Roboto, 'Helvetica Neue', Helvetica, Arial, sans-serif;
            margin: 0;
        }

        .card {
            background: white;
            font-size: 13px;
            color: #333;
            height: 80%;
            margin: 20px 16px 16px 16px;
            border-radius: 2px;
            padding: 10px 35px 20px 35px;
            width: 80%;
        }

        .card > h1 {
            font-size: 24px;
        }
        .card > p {
            font-size: 13px;
        }
        #instructions {
            font-size: 18px;
        }

        core-animated-pages {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            overflow: hidden;
        }

        section > div {
            height: 100%;
            color: white;
        }
        paper-button[disabled] {
            margin-top: 5px;
        }
        paper-button[autofocus] {
            color: #3f51b5;
        }
        paper-button.colored {
            color: #3f51b5;
        }

        paper-button[raised].colored {
            background: #3f51b5;
            color: #fff;
        }

        paper-button[raised].colored > a {
            text-decoration: none;
            background: #3f51b5;
            color: #fff;
        }

        paper-button[raised].colored:hover {
            background: #3949ab;
            color: #fff;
        }

        paper-button.custom > core-icon {
            margin-right: 4px;
        }

        paper-button.hover:hover {
            background: #eee;
        }

        paper-button.blue-ripple::shadow #ripple {
            color: #303f9f;
        }
        paper-button[activated] {
            background: #3f51b5;
            color: #fff;
        }
        paper-button[activated]:hover {
            background: #3949ab;
        }
        paper-input.narrow {
            width: 150px;
        }
        paper-input {
            width: 100%;
            max-width: 400px;
        }

        paper-fab {
            color: #fff;
            background: #5677fc;
            margin-right:2em;
        }
        paper-fab:hover {
            color: #fff;
            background: #4e6cef;
            margin-right: 2em;
        }
        .back-button {
            background: #7986cb;
        }
        .back-button:hover {
            background: #5c6bc0;
        }
        .reset-button {
            background: #9e9e9e;
        }
        .reset-button:hover {
            background: #757575;
        }
        .finish-button {
            background: #259b24;
        }
        .finish-button:hover {
            background: #0a8f08;
        }
        paper-fab {
            transition: transform 500ms cubic-bezier(0.4, 0, 0.2, 1) 500ms, background-color 500ms cubic-bezier(0.4, 0, 0.2, 1);
            -webkit-transition: -webkit-transform 500ms cubic-bezier(0.4, 0, 0.2, 1) 500ms, background-color 500ms cubic-bezier(0.4, 0, 0.2, 1);
            -webkit-transform: scale(0);
            transform: scale(0);
            -webkit-transform-origin: 50% 50%;
            transform-origin: 50% 50%;
        }

        paper-fab[showing] {
            -webkit-transform: none;
            transform: none;
        }
        paper-checkbox {
            padding: 20px 20px 20px 0;
        }

        paper-checkbox.blue::shadow #ink[checked] {
            color: #3f51b5;
        }

        paper-checkbox.blue::shadow #checkbox.checked {
            border-color: #3f51b5;
        }

        paper-slider {
            width: 100%;
        }
        .yellow-slider paper-slider::shadow #sliderKnobInner,
        .yellow-slider paper-slider::shadow #sliderBar::shadow #activeProgress {
            background-color: #f4b400;
        }

        .green-slider paper-slider::shadow #sliderKnobInner,
        .green-slider paper-slider::shadow #sliderKnobInner::before,
        .green-slider paper-slider::shadow #sliderBar::shadow #activeProgress {
            background-color: #0f9d58;
        }

        .subtitle {
            color: #999;
            font-size: 14px;
            margin-top: 4px;
        }

        .no-bottom-margin {
            margin-bottom: 0px;
        }

        core-icon {
            color: #333;
            vertical-align: top !important;
        }

        paper-toast {
            bottom: 50px;
            left: 10px;
        }


    </style>

</head>
<body unresolved>

<core-animated-pages transitions="slide-from-right">
    <section>
        <div layout vertical center center-justified style="background:#f0f0f0;">
            <div class="card">

                <div left vertical layout style="height:100%">
                    <div></div>
                    <div flex>
                        <h1>UQ Library Participant Consent</h1>
                        <p>I hereby grant full permission to the University of Queensland to take notes and recordings of my comments during this session.</p>
                        <p>I understand that other University of Queensland employees involved with UQ Library may review these usability notes and recordings, and that I may be directly quoted or have recordings of my interactions used in internal University of Queensland documents, without reference to my name.</p>

                        <p>I understand that my participation is voluntary, that I can choose not to participate in part or all of the project, and that I can withdraw at any stage of the project without being penalised or disadvantaged in any way. However, if I choose to withdraw before completing all phases of the research, my information from previous stages may be analysed in the combined data.</p>

                        <p>I understand that any usability notes, my name, address, phone number and e-mail address will not be shared with external third parties in compliance with the University of Queensland Privacy Policy published at http://www.uq.edu.au/terms-of-use/.</p>

                        <p>This consent and waiver will not be made the basis of a future claim of any kind against the University of Queensland and any of its agencies.
                        </p>
                        <paper-input floatingLabel class="green" label="Your name" error="Please enter your name!" id="name" onchange="validate()"></paper-input>
                        <paper-input floatingLabel label="Your email address" type="email" error="Please enter your contact email address!" id="email" onchange="validate()"></paper-input>
                        <paper-input floatingLabel type="date" error="Please enter today's date!" id="date" onchange="validate()"></paper-input>
                    </div>
                    <div>
                        <div layout horizontal justified>
                            <div><paper-button class="hover" label="More Info..." onclick="javascript:window.open('http://www.uq.edu.au/terms-of-use/');"></paper-button></div>
                            <div></div>
                            <div>
                                <paper-button class="hover" label="Decline" onclick="finish()"></paper-button>
                                <paper-button class="hover" label="Accept" id="check" onclick="next()"></paper-button>
                            </div>
                            <!--<div></paper-fab><paper-fab id="check" icon="check" greyed onclick="next()"></paper-fab></div>-->

                        </div>
                    </div>
                </div>

                <paper-toast id="toast1" text="It looks like you missed something - have you filled in all the fields?"></paper-toast>
                <paper-shadow z="4"></paper-shadow></div>
        </div>
    </section>

    <section>
        <div layout vertical center center-justified style="background:#f0f0f0;">
            <div class="card">

                <div left vertical layout style="height:100%">
                    <div></div>
                    <div flex>
                        <h1 class="no-bottom-margin"><core-icon icon="account-circle"></core-icon> A little bit about you...</h1>
                        <p class="subtitle">Please tick the boxes that describe you:</p>
                        <div horizontal layout>
                            <paper-checkbox class="blue" id="undergrad"></paper-checkbox>
                            <div vertical layout>
                                <h4>Undergraduate Coursework student</h4>
                            </div>
                        </div>

                        <div horizontal layout>
                            <paper-checkbox class="blue" id="phd"></paper-checkbox>
                            <div vertical layout>
                                <h4>PhD Researcher</h4>
                            </div>
                        </div>

                        <div horizontal layout>
                            <paper-checkbox class="blue" id="teaching"></paper-checkbox>
                            <div vertical layout>
                                <h4>Academic Teaching &amp; Research Staff</h4>
                            </div>
                        </div>

                        <div horizontal layout>
                            <paper-checkbox class="blue" id="teaching-research"></paper-checkbox>
                            <div vertical layout>
                                <h4>Academic Research Staff</h4>
                            </div>
                        </div>

                        <paper-input floatingLabel label="Your field, specialty, or area of research" id="research-area"></paper-input>
                    </div>
                    <div>
                        <div layout horizontal justified>
                            <div><paper-fab mini icon="arrow-back" showing class="back-button" onclick="back()"></paper-fab></div>
                            <paper-button disabled class="count" label="x of x"></paper-button>
                            <div><paper-fab mini icon="arrow-forward" showing onclick="next()"></paper-fab></div>

                        </div>
                    </div>
                </div>


                <paper-shadow z="2"></paper-shadow></div>
        </div>
    </section>

    <section>
        <div layout vertical center center-justified style="background:#f0f0f0;">
            <div class="card">

                <div left vertical layout style="height:100%">
                    <div></div>
                    <div flex>
                        <h2 class="no-bottom-margin"><core-icon icon="accessibility"></core-icon> How easily can you use and navigate the web?</h2><p class="subtitle">Where 0 is extremely difficult and 10 is effortless.</p>
                        <paper-slider snaps pin value="5" max="10" editable id="ratingx"></paper-slider>
                        <paper-input floatingLabel multiline label="Any frustrations with UQ Library website" id="what-frustrated"></paper-input><br>
                        <paper-input floatingLabel multiline label="2 or 3 recent search terms" value="1. &#13;2. &#13;3. " id="past-terms"></paper-input>
                    </div>
                    <div>
                        <div layout horizontal justified>
                            <div><paper-fab mini icon="arrow-back" showing class="back-button" onclick="back()"></paper-fab></div>
                            <div><paper-button disabled class="count" label="x of x"></paper-button></div>
                            <div><paper-fab mini icon="arrow-forward" showing onclick="next()"></paper-fab></div>

                        </div>
                    </div>
                </div>

                <paper-shadow z="3"></paper-shadow></div>
        </div>
    </section>

    <section>
        <div layout vertical center center-justified style="background:#f0f0f0;">
            <div class="card">

                <div left vertical layout style="height:100%">
                    <div></div>
                    <div flex>
                        <div><h2 class="no-bottom-margin"><core-icon icon="hardware:phonelink"></core-icon> How often do you access the UQ Library website using a...</h2><p class="subtitle">Where 0 is never and 10 is daily or more.</p></div>

                        <h3>desktop or laptop?</h3>
                        <paper-slider snaps pin value="5" max="10" editable id="ratingx"></paper-slider>

                        <h3>tablet?</h3>
                        <paper-slider snaps pin value="5" max="10" editable id="ratingx"></paper-slider>

                        <h3>smartphone?</h3>
                        <paper-slider snaps pin value="5" max="10" editable id="ratingx"></paper-slider>
                    </div>
                    <div>
                        <div layout horizontal justified>
                            <div><paper-fab mini icon="arrow-back" showing class="back-button" onclick="back()"></paper-fab></div>
                            <div><paper-button disabled class="count" label="x of x"></paper-button></div>
                            <div><paper-fab mini icon="arrow-forward" showing onclick="next()"></paper-fab></div>

                        </div>
                    </div>
                </div>

                <paper-shadow z="3"></paper-shadow></div>
        </div>
    </section>

    <section>
        <div layout vertical center center-justified style="background:#f0f0f0;">
            <div class="card">

                <div left vertical layout style="height:100%">
                    <div></div>
                    <div flex>
                        <div><h2 class="no-bottom-margin"><core-icon icon="maps:place"></core-icon> How often do you access the UQ Library website from...</h2><p class="subtitle">Where 0 is never and 10 is daily.</p></div>

                        <h3>on campus?</h3>
                        <paper-slider snaps pin value="5" max="10" editable id="ratingx"></paper-slider>

                        <h3>in transit?</h3>
                        <paper-slider snaps pin value="5" max="10" editable id="ratingx"></paper-slider>

                        <h3>at home?</h3>
                        <paper-slider snaps pin value="5" max="10" editable id="ratingx"></paper-slider>
                        <paper-input floatingLabel label="other..." id="access-from-other"></paper-input>
                    </div>
                    <div>
                        <div layout horizontal justified>
                            <div><paper-fab mini icon="arrow-back" showing class="back-button" onclick="back()"></paper-fab></div>
                            <div><paper-button disabled class="count" label="x of x"></paper-button></div>
                            <div><paper-fab mini icon="arrow-forward" showing onclick="next()"></paper-fab></div>

                        </div>
                    </div>
                </div>


                <paper-shadow z="3"></paper-shadow></div>
        </div>
    </section>

    <section>
        <div layout vertical center center-justified style="background:#f0f0f0;">
            <div class="card">

                <div left vertical layout style="height:100%">
                    <div></div>
                    <div flex>
                        <h2>Please rate how useful the following UQ Library features are to you.</h2>
                        <h3 class="no-bottom-margin"><core-icon icon="search"></core-icon>Library academic content</h3><p class="subtitle">(e.g. peer-reviewed articles, books, journals, databases, etc)</p>
                        <paper-slider snaps pin value="5" max="10" editable id="rating1"></paper-slider>
                        <br>
                        <h3 class="no-bottom-margin"><core-icon icon="account-circle"></core-icon>Recommended or personalised library academic content</h3><p class="subtitle">(based on your peers, professors, recent library history, etc)</p>
                        <paper-slider snaps pin value="5" max="10" editable id="rating2"></paper-slider>
                    </div>
                    <div>
                        <div layout horizontal justified>
                            <div><paper-fab mini icon="arrow-back" showing class="back-button" onclick="back()"></paper-fab></div>
                            <div><paper-button disabled class="count" label="x of x"></paper-button></div>
                            <div><paper-fab mini icon="arrow-forward" showing onclick="next()"></paper-fab></div>
                        </div>
                    </div>
                </div>

                <paper-shadow z="3"></paper-shadow></div>
        </div>
    </section>

    <section>
        <div layout vertical center center-justified style="background:#f0f0f0;">
            <div class="card">

                <div left vertical layout style="height:100%">
                    <div></div>
                    <div flex>
                        <h2>[Placeholder]</h2>
                    </div>
                    <div>
                        <div layout horizontal justified>
                            <div><paper-fab mini icon="arrow-back" showing class="back-button" onclick="back()"></paper-fab></div>
                            <div><paper-button disabled class="count" label="6 of 7"></paper-button></div>
                            <div><paper-fab mini icon="arrow-forward" showing onclick="next()"></paper-fab></div>

                        </div>
                    </div>
                </div>


                <paper-shadow z="3"></paper-shadow></div>
        </div>
    </section>



    <section>
        <div layout vertical center center-justified style="background:#f0f0f0;">
            <div class="card">

                <div left vertical layout style="height:100%">
                    <div></div>
                    <div flex>
                        <h2>You've reached the end of the survey. Thank you.</h2>
                    </div>
                    <div>
                        <div layout horizontal justified>
                            <div><paper-fab mini icon="arrow-back" showing class="back-button" onclick="back()"></paper-fab></div>
                            <div><paper-fab mini icon="undo" showing class="reset-button" onclick="reset()"></paper-fab></div>
                            <div><paper-fab mini icon="check" showing class="finish-button" onclick="getData()"></paper-fab></div>
                        </div>
                    </div>
                </div>

                <paper-shadow z="2"></paper-shadow></div>
        </div>
    </section>
</core-animated-pages>

<script>
    var p = document.querySelector('core-animated-pages');
    var up = true;
    var max = (document.getElementsByTagName('section').length - 1);

    function next() {
        if (document.getElementById('check').hasAttribute('activated') === false) {
            document.querySelector('#toast1').show();
            return;
        }
        if (p.selected <= (max - 1)) {
            p.selected++;
            setPageNumbers();
        }
    }

    function back() {
        if (p.selected > 0) {
            p.selected--;
            setPageNumbers();
        }
    }

    function setPageNumbers() {
        var pages = document.getElementsByClassName("count");
        for (var a=0; a < pages.length; a++) {
            pages[a].label = p.selected + " of " + max;
        }
    }

    // sets date to today's date
    var today = new Date();
    var dd = today.getDate();
    var mm = today.getMonth()+1; //January is 0!
    var yyyy = today.getFullYear();
    if(dd<10) {
        dd='0'+dd
    }
    if(mm<10) {
        mm='0'+mm
    }
    today = yyyy + "-" + mm + "-" + dd;
    document.getElementById('date').setAttribute('value', today);
    // end of date-setting

    function validate() {
        if ((document.getElementById('name').value.length > 0) && (document.getElementById('email').value.length > 0) && (document.getElementById('date').value.length > 0)) {
            document.getElementById('check').setAttribute('activated', 'true');
            document.getElementById('check').setAttribute('raised', 'true');
        } else {
            document.getElementById('check').removeAttribute('activated');
        }
    }

    // Developer mode - allows keyboard navigation
    document.onkeydown = checkKey;
    function checkKey(e) {

        e = e || window.event;
        console.log("p.selected = " + p.selected);

        if (((e.keyCode == '37') || (e.keyCode == '40')) && p.selected > 0) {
            p.selected -= 1;
        }
        else if (((e.keyCode == '38') || (e.keyCode == '39')) && p.selected <= (max-1)) {
            p.selected += 1;
        }
        setPageNumbers();
    }
    // End of Developer mode

    function reset() {

        var inputs = document.getElementsByTagName("paper-input");
        for (var n=0; n < inputs.length; n++) {
                inputs[n].value = "";
        }

        var checkboxes = document.getElementsByTagName("paper-checkbox");
        for (var m=0; m < checkboxes.length; m++) {
            checkboxes[m].checked = false;
        }

        var sliders = document.getElementsByTagName("paper-slider");
        for (var o=0; o < sliders.length; o++) {
            sliders[o].value = 5;
        }

        var x = (max);
        while (x > 0) {
            p.selected--;
            x--;
        }
        validate();
    }

    function getData() {

        var name = document.getElementById('name').value;
        var email = document.getElementById('email').value;
        var date = document.getElementById('date').value;

        var type = "";

        var rating1 = document.getElementById('rating1').value;
        var rating2 = document.getElementById('rating2').value;
//        var rating3 = document.getElementById('rating3').value;
//        var rating4 = document.getElementById('rating4').value;
//        var rating5 = document.getElementById('rating5').value;
//        var rating6 = document.getElementById('rating6').value;
//        var rating7 = document.getElementById('rating7').value;
//        var rating8 = document.getElementById('rating8').value;
//        var rating9 = document.getElementById('rating9').value;
//        var rating10 = document.getElementById('rating10').value;
//        var rating11 = document.getElementById('rating11').value;
//        var rating12 = document.getElementById('rating12').value;
//        var rating13 = document.getElementById('rating13').value;
//        var rating14 = document.getElementById('rating14').value;

        if (document.getElementById('undergrad').checked == true) {
            type = type.concat("undergrad%20");
        }
        if (document.getElementById('phd').checked == true) {
            type = type.concat("phd%20");
        }
        if (document.getElementById('teaching').checked == true) {
            type = type.concat("teaching%20");
        }
        if (document.getElementById('teaching-research').checked == true) {
            type = type.concat("teaching%20and%20research%20");
        }
        var research = document.getElementById('research-area').value;
        var frustrated = document.getElementById('what-frustrated').value;
        var past = document.getElementById('past-terms').value;
//        var other = document.getElementById('other-values').value;

//        window.location = 'data:application/csv;charset=utf-8,'
//        + 'name' + '%2C' + 'email' + '%2C' + 'date' + '%2C' + 'type' + '%2C' + 'research' + '%2C' + 'frustrated' + '%2C' + 'past-terms' + '%2C' + 'Q1' + '%2C' + 'Q2' + '%2C' + 'Q3' + '%2C' + 'Q4' + '%2C' + 'Q5' + '%2C' + 'Q6' + '%2C' + 'Q7' + '%2C' + 'Q8' + '%2C' + 'Q9' + '%2C' + 'Q10' + '%2C' + 'Q11' + '%2C' + 'Q12' + '%2C' + 'Q13' + '%2C' + 'Q14' + '%2C' + 'Other Values' + '%0A'
//        + name + '%2C' + email + '%2C' + date + '%2C' + type + '%2C' + research + '%2C' + frustrated + '%2C' + past + '%2C' + rating1 + '%2C' + rating2 + '%2C' + rating3 + '%2C' + rating4 + '%2C' + rating5 + '%2C' + rating6 + '%2C' + rating7 + '%2C' + rating8 + '%2C' + rating9 + '%2C' + rating10 + '%2C' + rating11 + '%2C' + rating12 + '%2C' + rating13 + '%2C' + rating14 + '%2C' + other + '%2C';

        window.location = 'data:application/csv;charset=utf-8,'
        + 'name' + '%2C' + 'email' + '%2C' + 'date' + '%2C' + 'type' + '%2C' + 'research' + '%2C' + 'frustrated' + '%2C' + 'past-terms' + '%2C' + 'Q1' + '%2C' + 'Q2' + '%0A'
        + name + '%2C' + email + '%2C' + date + '%2C' + type + '%2C' + research + '%2C' + frustrated + '%2C' + past + '%2C' + rating1 + '%2C' + rating2 + '%2C';
    }
</script>
</body>
</html>