
<!--
    @license
    Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
    The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
    The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
    Code distributed by Google as part of the polymer project is also
    subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!doctype html>
<html>
<head>
  <title>UQ Library Survey</title>
  
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  
  <script src="https://www.polymer-project.org/components/platform/platform.js"></script>
  
  <link rel="import" href="https://www.polymer-project.org/components/font-roboto/roboto.html">

  <!--
      **********************
      Core icons, menu items
      **********************
  -->

  <link href="https://www.polymer-project.org/components/core-icons/core-icons.html" rel="import">
  <link href="https://www.polymer-project.org/components/paper-item/paper-item.html" rel="import">

  <link href="https://www.polymer-project.org/components/paper-menu-button/paper-menu-button.html" rel="import">

  <style shim-shadowdom>
    body {
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
      font-size: 16px;
    }

    html, body {
      height: 100%;
      margin: 0;
    }

    #warning {
      color: #e51c23;
    }

    #complete > p {
      color: #259b24;
    }

    .toolbar {
      color: #fff;
      font-size: 16px;
      padding: 12px;
    }

    .toolbar-1 {
      background-color: #5264AE;
    }

  </style>

  <!--
      **********************
      Slider
      **********************
  -->

  <link rel="import" href="https://www.polymer-project.org/components/paper-slider/paper-slider.html">
  
  <style shim-shadowdom>
  
    body {
      font-family: RobotoDraft, 'Helvetica Neue', Helvetica, Arial;
      margin: 0;
      padding: 24px;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-tap-highlight-color: rgba(0,0,0,0);
      -webkit-touch-callout: none;
    }
    
    paper-slider {
      width: 100%;
    }
    
    section {
      margin-top: 20px;
      padding: 20px 0;
    }
    
    section > div {
      padding: 14px;
    }
    
    .yellow-slider paper-slider::shadow #sliderKnobInner,
    .yellow-slider paper-slider::shadow #sliderBar::shadow #activeProgress {
      background-color: #f4b400;
    }
    
    .green-slider paper-slider::shadow #sliderKnobInner,
    .green-slider paper-slider::shadow #sliderKnobInner::before,
    .green-slider paper-slider::shadow #sliderBar::shadow #activeProgress {
      background-color: #0f9d58;
    }

    .subtitle {
      color: #999;
      font-size: 14px;
      margin-top: 4px;
    }

    .no-bottom-margin {
      margin-bottom: 0px;
    }
    
  </style>

  <!--
      **********************
      Dialog, buttons
      **********************
  -->

  <link href="https://www.polymer-project.org/components/paper-button/paper-button.html" rel="import">
  <link rel="import" href="https://www.polymer-project.org/components/paper-dialog/paper-dialog-transition.html">
  <link href="https://www.polymer-project.org/components/paper-dialog/paper-dialog.html" rel="import">

  <style>
    body {
      -webkit-transform: translateZ(0);
      transform: translateZ(0);
      font-family: RobotoDraft, 'Helvetica Neue', Helvetica, Arial;
      font-size: 16px;
      color: rgba(0, 0, 0, 0.87);
    }

    paper-dialog {
      width: 60%;
      min-width: 430px;
    }

    p {
      margin-bottom: 0;
    }

    paper-dialog paper-button {
      font-weight: bold;
    }

    paper-button[autofocus] {
      color: #3f51b5;
    }
    paper-button.colored {
      color: #3f51b5;
    }

    paper-button[raised].colored {
      background: #3f51b5;
      color: #fff;
    }

    paper-button[raised].colored > a {
      text-decoration: none;
      background: #3f51b5;
      color: #fff;
    }

    paper-button[raised].colored:hover {
      background: #3949ab;
      color: #fff;
    }

    paper-button.custom > core-icon {
      margin-right: 4px;
    }

    paper-button.hover:hover {
      background: #eee;
    }

    paper-button.blue-ripple::shadow #ripple {
      color: #303f9f;
    }
  </style>

  <!--
      **********************
      Form inputs
      **********************
  -->

  <link href="https://www.polymer-project.org/components/paper-input/paper-input.html" rel="import">

  <style shim-shadowdom>
  
    body {
      font-family: RobotoDraft, 'Helvetica Neue', Helvetica, Arial;
      margin: 0;
      padding: 24px;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-tap-highlight-color: rgba(0,0,0,0);
      -webkit-touch-callout: none;
    }

    paper-input.narrow {
      width: 150px;
    }
    paper-input {
      width: 100%;
      max-width: 400px;
    }
    
  </style>

    <!--
      **********************
      Checkboxes
      **********************
  -->

  <link rel="import" href="https://www.polymer-project.org/components/paper-checkbox/paper-checkbox.html">

  <style shim-shadowdom>

    paper-checkbox {
      padding: 20px 20px 20px 0;
    }
    
    paper-checkbox.blue::shadow #ink[checked] {
      color: #3f51b5;
    }
    
    paper-checkbox.blue::shadow #checkbox.checked {
      border-color: #3f51b5;
    }

  </style>

  <!--
    **********************
    Card styles
    **********************
-->

  <link href="https://www.polymer-project.org/components/paper-shadow/paper-shadow.html" rel="import">
  <link href="https://www.polymer-project.org/components/paper-shadow/paper-shadow.css" rel="import">

  <style>
    body {
      background: #f0f0f0;
      font-family: RobotoDraft, 'Helvetica Neue', Helvetica, Arial;
      transform: translateZ(0);
      -webkit-transform: translateZ(0);
      transform: translateZ(0);
      padding: 16px;
      user-select: none;
      -webkit-user-select: none;
    }

    .card {
      background: white;
      height: auto;
      margin: 70px 16px 16px 16px;
      border-radius: 2px;
      padding: 10px 35px 20px 35px;
    }

  </style>

  <!--
    **********************
    FAB Icons
    **********************
-->
  <link href="https://www.polymer-project.org/components/paper-fab/paper-fab.html" rel="import">

  <style>
    paper-fab {
      color: #fff;
      background: #3f51b5;
      margin-right:2em;
    }
    paper-fab:hover {
      color: #fff;
      background: #3949ab;
      margin-right: 2em;
    }
    .back-button {
      background: #7986cb;
    }
    .back-button:hover {
      background: #5c6bc0;
    }
    .reset-button {
      background: #9e9e9e;
    }
    .reset-button:hover {
      background: #757575;
    }
    .finish-button {
      background: #259b24;
    }
    .finish-button:hover {
      background: #0a8f08;
    }
  </style>
  
</head>
<body unresolved>

  <template is="auto-binding">

  <div layout vertical fit>

    <div class="toolbar toolbar-1" layout horizontal center>

      <paper-menu-button icon="menu">
        <template repeat="{{items}}">
          <paper-item hover>{{}}</paper-item>
        </template>
      </paper-menu-button>
      UQ Library Survey

      <div flex></div>

    </div>

    <div flex></div>

  </div>

  </template>

      <div class="card">
        <div id="consent">
          <h1>UQ Library Participant Consent</h1>
        <p>I hereby grant full permission to the University of Queensland to take notes and recordings of my comments during this session.</p>
        <p>I understand that other University of Queensland employees involved with UQ Library may review these usability notes and recordings, and that I may be directly quoted or have recordings of my interactions used in internal University of Queensland documents, without reference to my name.</p>

        <p>I understand that my participation is voluntary, that I can choose not to participate in part or all of the project, and that I can withdraw at any stage of the project without being penalised or disadvantaged in any way. However, if I choose to withdraw before completing all phases of the research, my information from previous stages may be analysed in the combined data.</p>

        <p>I understand that any usability notes, my name, address, phone number and e-mail address will not be shared with external third parties in compliance with the University of Queensland Privacy Policy published at http://www.uq.edu.au/terms-of-use/.</p>

        <p>This consent and waiver will not be made the basis of a future claim of any kind against the University of Queensland and any of its agencies.
        </p>

        <paper-input floatingLabel class="green" label="Your name" error="Please enter your name!" id="name"></paper-input>
        <paper-input floatingLabel label="Your email address" type="email" error="Please enter your contact email address!" id="email"></paper-input>
        <paper-input floatingLabel type="date" error="Please enter today's date!" id="date"></paper-input>
        <br>
        <paper-button class="hover" label="More Info..." dismissive onclick="javascript:window.open('http://www.uq.edu.au/terms-of-use/');"></paper-button>
        <paper-button class="hover" affirmative onclick="setTimeout(function() {complete();},300);"><core-icon icon="clear"></core-icon>Decline</paper-button>
        <paper-button class="hover colored" affirmative autofocus onclick="setTimeout(function() {accept();},300);"><core-icon icon="check"></core-icon>Accept</paper-button>
        </div>

        <!---->
        <!--DEMOGRAPHICS-->
        <!---->

        <div id="demographics" hidden>
          <h1 class="no-bottom-margin">A little bit about you...</h1>
          <p class="subtitle">Please tick the boxes that describe you:</p>

          <div horizontal layout>
            <paper-checkbox class="blue" id="sccu"></paper-checkbox>
            <div vertical layout>
              <h4>Undergraduate Coursework student</h4>
            </div>
          </div>

          <div horizontal layout>
            <paper-checkbox class="blue" id="scrph"></paper-checkbox>
            <div vertical layout>
              <h4>PhD Researcher</h4>
            </div>
          </div>

          <div horizontal layout>
            <paper-checkbox class="blue" id="fat"></paper-checkbox>
            <div vertical layout>
              <h4>Academic Teaching &amp; Research Staff</h4>
            </div>
          </div>

          <div horizontal layout>
            <paper-checkbox class="blue" id="far"></paper-checkbox>
            <div vertical layout>
              <h4>Academic Research Staff</h4>
            </div>
          </div>

          <paper-input floatingLabel label="Your field, specialty, or area of research" id="research-area"></paper-input>
          <paper-input floatingLabel multiline label="Any frustrations with UQ Library website" id="what-frustrated"></paper-input><br>
          <paper-input floatingLabel multiline label="3 recent search terms" value="1. &#13;2. &#13;3. " id="past-terms"></paper-input>
          <br>
          <div layout horizontal center>
          <paper-fab mini icon="arrow-back" class="back-button" onclick="setTimeout(function() {back();},200);"></paper-fab>
          <paper-fab mini icon="arrow-forward" onclick="setTimeout(function() {gotoValues();},200);"></paper-fab>
            </div>
        </div>

        <!---->
        <!--VALUES-->
        <!---->

        <div id="values" hidden>
          <h1 class="no-bottom-margin">Please rate how useful the following features are to you, personally:</h1>
          <p class="subtitle">Where 10 is extremely valuable to you, and 0 is of no use to you.</p><br><br>

          <section>

            <div left vertical layout>
              <div>Library academic content<p class="subtitle">(e.g. peer-reviewed articles, books, journals, databases, etc)</p></div>

              <paper-slider snaps value="5" max="10" editable id="rating"></paper-slider>
            </div>

            <br>
            <br>

            <div left vertical layout>
              <div>Recommended or personalised library academic content<p class="subtitle">(based on your peers, professors, recent library history, etc)</p></div>
              <paper-slider snaps value="5" max="10" editable id="rating2"></paper-slider>
            </div>

            <br>
            <hr>
            <br>

            <div left vertical layout>
              <div>Past Exams</div><br>
              <paper-slider snaps value="5" max="10" editable id="rating3"></paper-slider>
            </div>

            <div left vertical layout>
              <div>Recommended or personalised past exams<p class="subtitle">(based on your course enrollment, proximity to exam period, etc)</p></div>
              <paper-slider snaps value="5" max="10" editable id="rating4"></paper-slider>
            </div>

            <br>
            <hr>
            <br>

            <div left vertical layout>
              <div>Booking a room</div><br>
              <paper-slider snaps value="5" max="10" editable id="rating5"></paper-slider>
            </div>

            <br>
            <br>

            <div left vertical layout>
              <div>Recommended or personalised room booking suggestions<p class="subtitle">(based on your primary campus location, room booking history, etc)</p></div><br>
              <paper-slider snaps value="5" max="10" editable id="rating6"></paper-slider>
            </div>

            <br>
            <hr>
            <br>

            <div left vertical layout>
              <div>General Computer Availability/Library Opening Hours</div><br>
              <paper-slider snaps value="5" max="10" editable id="rating7"></paper-slider>
            </div>

            <br>
            <br>

            <div left vertical layout>
              <div>Personalised Computer Availability/Library Opening Hours<p class="subtitle">(based on your primary campus location, room booking history, etc)</p></div><br>
              <paper-slider snaps value="5" max="10" editable id="rating8"></paper-slider>
            </div>

          </section>
          <br><br>
          <paper-fab mini icon="arrow-back" class="back-button" onclick="setTimeout(function() {back2();},200);"></paper-fab>
          <paper-fab mini icon="undo" class="reset-button" onclick="setTimeout(function() {location.reload();},300);"></paper-fab>
          <paper-fab mini icon="check" class="finish-button" onclick="setTimeout(function() {getData();},800);"></paper-fab>
        </div>
        <br>
        <div id="warning" hidden>
          It looks like you missed something - have you filled in all the fields?
        </div>

        <div id="complete" hidden>
          <p> Thank you! </p>
          <br>
          <paper-button class="hover" onclick="setTimeout(function() {location.reload();},800);"><core-icon icon="close"></core-icon>Close</paper-button>
        </div>
        <paper-shadow z="2"></paper-shadow>
    </div>

  <script>

    var warningState = document.getElementById('warning');

    function back() {
      document.getElementById('consent').removeAttribute('hidden');
      document.getElementById('demographics').setAttribute('hidden', 'true');
      warningState.setAttribute('hidden', 'true');
    }

    function back2() {
      document.getElementById('demographics').removeAttribute('hidden');
      document.getElementById('values').setAttribute('hidden', 'true');
      warningState.setAttribute('hidden', 'true');
    }

    function accept() {
      var name = document.getElementById('name').value;
      var email = document.getElementById('email').value;
      var date = document.getElementById('date').value;

//      Uncomment these 2 lines and comment out the if/else clauses below to enable dev mode
      document.getElementById('consent').setAttribute('hidden', 'true');
      document.getElementById('demographics').removeAttribute('hidden');

//      if ((name.length > 0) && (email.length > 0) && (date.length > 0)) {
//        document.getElementById('consent').setAttribute('hidden', 'true');
//        document.getElementById('demographics').removeAttribute('hidden');
//        warningState.setAttribute('hidden', 'true');
//      } else {
//        warningState.removeAttribute('hidden');
//      }
    }

    function toggleWarning() {
      if (warningState.hidden == true) {
        warningState.removeAttribute('hidden');
      } else {
        warningState.setAttribute('hidden', 'true');
      }

    }

    function gotoValues() {
      document.getElementById('demographics').setAttribute('hidden', 'true');
      document.getElementById('values').removeAttribute('hidden');
      warningState.setAttribute('hidden', 'true');
    }

    function complete() {
      document.getElementById('consent').setAttribute('hidden', 'true');
      document.getElementById('demographics').setAttribute('hidden', 'true');
      warningState.setAttribute('hidden', 'true');
      document.getElementById('complete').removeAttribute('hidden');
    }

    var type = "";

    function getData() {

      var name = document.getElementById('name').value;
      var email = document.getElementById('email').value;
      var date = document.getElementById('date').value;

      var rating = document.getElementById('rating').value;

      if (document.getElementById('sccu').checked == true) {
        type = type.concat("sccu%20");
      }
      if (document.getElementById('scrph').checked == true) {
        type = type.concat("scrph%20");
      }
      if (document.getElementById('fat').checked == true) {
       type = type.concat("fat%20");
      }
      if (document.getElementById('far').checked == true) {
        type = type.concat("far%20");
      }
      var research = document.getElementById('research-area').value;
      var frustrated = document.getElementById('what-frustrated').value;
      var past = document.getElementById('past-terms').value;

      window.location = 'data:application/csv;charset=utf-8,'
        + 'name' + '%2C' + 'email' + '%2C' + 'date' + '%2C' + 'type' + '%2C' + 'research' + '%2C' + 'frustrated' + '%2C' + 'past-terms' + '%2C' + 'Q1' + '%0A'
        + name + '%2C' + email + '%2C' + date + '%2C' + type + '%2C' + research + '%2C' + frustrated + '%2C' + past + '%2C' + rating + '%2C';
  }
  
  </script>

  <script>

    scope = document.querySelector('template[is=auto-binding]');

    scope.items = [
      'About',
      'Terms of Use',
      'Reset Form',
      'Exit'
    ];

  </script>

  <script>

    document.addEventListener('polymer-ready', function() {

      setTimeout(function() {
        Array.prototype.forEach.call(document.querySelectorAll('paper-input[hidden]'), function(node) {
          node.removeAttribute('hidden');
        });
      }, 500);

    });

  </script>
  
</body>
</html>
